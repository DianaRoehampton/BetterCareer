<!-- Determined the document type the browser will opem  HTML -->
<!DOCTYPE html>

<!-- Used the HTML marker for the entire page, with the language -> English  -->
<html lang="en">

<!-- Dashboard page cutomisation -->
<head>
        <!-- The title of the page -->
        <title>Better Career, Dashboard Page</title>
        <!-- The meta tags is used to access the app in any browser -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Allow the page to adjust size by device -->
        <meta name="keywords" content="online,training,admin,course,career"> <!-- The keywords for search engines -->
        <meta name="author" content="Florentina Diana Cracea"> <!-- Web app author -->
      
         <!-- Bootstrap library included to introduce templates easily and Icon Font Stylesheet -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" 
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        
        <!-- An icon library to show a hamburger menu (bars) on small screens -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

        <!-- Connect to the Template Stylesheet created for Better Career -->
        <link href="css/style.css" rel="stylesheet">
</head>

<header>
          <!----------------------------------------------- Navigation Bar cutomisation ------------------------------------------------->
          <div class="main-container">
            <nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top">
                <!-- Adapted the container to the full size (12 columns) of the screen with "fluid" -->
                <div class="container-fluid">
                  <a class="navbar-brand" href="index.html"><img src="https://drive.google.com/thumbnail?id=1IXan9xedkrfvfHQjM0bSVzNCcepIi8_o"></a>
                  <!--Navigation bar only collapse and does not hide -->
                  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarScroll" aria-controls="navbarScroll" 
                  aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                  </button>
    
                  <div class="collapse navbar-collapse" id="navbarScroll">
                    <ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 100px;">
                      
                    <!-- The link and definition of the buttons in the header -->
                    <!-- Using the function: <class="nav-link active" aria-current="page"> to evidentiate the current page-->
                        <li class="nav-item">
                        <a class="nav-link" href="index.html"><b>Home</b></a> 
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="courses.html"><b>Courses</b></a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="statistics.html"><b>Statistics</b></a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="about.html"><b>About Us</b></a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="contact.html"><b>Contact</b></a>
                      </li>
                    </ul>
    
                    <div class="subnav">
                      <img src="https://drive.google.com/thumbnail?id=1gb4YRY_cPKaT2wni040cwhO1ifm-aQW0" 
                      class="subnavbtn">
                      <div class="subnav-content">
                          <!-- Dashboard Link -->
                        <a href="dashboard.html">My Dashboard</a>
                        <!-- Register/Login Link -->
                        <a href="register-login.html">Reg/Log</a>
                        <!-- Log Out Link -->
                        <a href="" id="logout">Logout</a>
                    </div>
                  </div>
      
                  <!-- Cart Button to access the cart page -->
                  <a href="cart.html">
                      <button style="font-size:16px"><i class="fa fa-cart-arrow-down"></i></button>
                  </a>

              </nav>
          </div>
      
        <!-- Line insertion -->
        <div class="row">
              <hr>
        </div>

</header>
<!-- ------------------------------------------   The End of Navigation Bar cutomisation   ------------------------------------ -->




<body>  
  <!----------------------------------------------------   Dashboard Page Content  --------------------------------------------------->
    <!-- The sidebar -->
    <div class="sidebar">
        <div class="video">
            <img src="https://drive.google.com/thumbnail?id=1CcB7ubF7vhffaXtPDhBkATErvlviThz7" controls poster="images/post-1-1.png" id="image"
            style="border-color: #329685; border-width: 2px; border-style: inset; width: 200px;"">
         </div>
          <a class="active" href="dashboard.html">My Dashboard</a>
          <a href="courses.html">My Courses</a>
          <a href="career.html">My Career</a>    
          <hr>
    </div>

    <!-- The Dashboard Main Content -->
    <section class="user-profile" style="align-items: center; padding:2rem; margin: 0 auto; 
      max-width: 1200px; background-color: aliceblue; padding-bottom: 10px;">
        <h1 class="heading">Dashboard</h1>
        <div class="info">
           <div class="user">
              <img src="https://drive.google.com/thumbnail?id=1CcB7ubF7vhffaXtPDhBkATErvlviThz7" alt="">
              <h3>Student Name</h3>
              <p>Student</p>
              <a href="profile.html"><button> Update profile </button></a>
           </div>
           
           <!-- Containers with the User Activity Info -->
           <div class="box-container">
              <div class="box" style="background-color: #fff; border-radius:20px; border-color: aqua; border-width: 2px; border-style: inset;">
                 <div class="flex">
                    <div>
                        <p><span>Purchased Courses</span></p>
                        <a><img src="https://drive.google.com/thumbnail?id=1IXan9xedkrfvfHQjM0bSVzNCcepIi8_o" style=" width: 150px; height: 150px; padding: 30px;"></a>
                       <h1 style="text-align: left; padding-left: 50px;">3</h1>
                    </div>
                </div>
              </div>
        
              <div class="box" style="background-color: #fff; border-radius:20px; border-color: aqua; border-width: 2px; border-style: inset;">
                 <div class="flex">
                    <div>
                       <p><span>Courses Badges</span></p>
                       <!-- Badge Style Movement When acessing the page or after refresh -->
                       <svg class="badge"  height="140" width="140" viewBox="-40 -40 440 440">
                        <circle class="outer" fill="#F9D535" stroke="#fff" stroke-width="8" stroke-linecap="round" cx="180" cy="180" r="157"/>
                        <circle class="inner" fill="#DFB828" stroke="#fff" stroke-width="8" cx="180" cy="180" r="108.3"/>
                        <path class="inline" d="M89.4 276.7c-26-24.2-42.2-58.8-42.2-97.1 0-22.6 5.6-43.8 15.5-62.4m234.7.1c9.9 18.6 15.4 39.7 15.4 62.2 0 38.3-16.2 72.8-42.1 97" stroke="#CAA61F" stroke-width="7" stroke-linecap="round" fill="none"/>
                          <g class="star">
                          <path fill="#F9D535" stroke="#fff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" d="M180 107.8l16.9 52.1h54.8l-44.3 32.2 16.9 52.1-44.3-32.2-44.3 32.2 16.9-52.1-44.3-32.2h54.8z"/>
                          <circle fill="#DFB828" stroke="#fff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" cx="180" cy="107.8" r="4.4"/>
                          <circle fill="#DFB828" stroke="#fff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" cx="223.7" cy="244.2" r="4.4"/>
                          <circle fill="#DFB828" stroke="#fff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" cx="135.5" cy="244.2" r="4.4"/>
                          <circle fill="#DFB828" stroke="#fff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" cx="108.3" cy="160.4" r="4.4"/>
                          <circle fill="#DFB828" stroke="#fff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" cx="251.7" cy="160.4" r="4.4"/>
                          <div id="total" style="text-align:left; color: rgb(112, 221, 3); font-size:55px;">0</div>
                        </g>  
                      </svg>
                    </div>
                 </div>
              </div>

              <div class="box" style="background-color: #fff; text-align: center; border-radius:20px; border-color: aqua; border-width: 2px; border-style: inset;">
                 <div class="flex">
                    <div>
                       <span>Admin</span>
                       <p>Career</p>
                    </div>

                    <!-- Career Progress Bar that reflects the Career page Progress Bar -->
                    <div class="progress">
                        <div id="level" class="progress-bar progress-bar-striped progress-bar-animated" 
                        role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                        0%
                        </div>
                      </div>
                  </div>
                 <a href="career.html"><button> View Courses </button></a>
              </div>
           </div>
        </div>
    </section>

<!----------------------------------- Footer with the elements alligned in the centre ------------------------------->
<footer class="footer align-items-centre">

    <!-- Footer columns customisation -->
    <div class="inner">
        <div class="column is-nav">
            <div class="column-title"><a href="courses.html" style="color: #fff;">Courses</a></div>
        </div>
        
        <div class="column is-nav">
            <div class="column-title"><a href="statistics.html" style="color: #fff;">Statistics</a></div>
        </div>
        <div class="column is-nav">
            <div class="column-title"><a href="about.html" style="color: #fff;">Testimonials</a></div>
        </div>

        <!-- Company name & logo -->
        <div class="column is-logo">
            <a href="#" class="main-logo">
                <div class="logo"><a href="index.html" style="color: #fff;">
                    <img src="https://drive.google.com/thumbnail?id=1IXan9xedkrfvfHQjM0bSVzNCcepIi8_o" alt="bettercareer"></a>
                </div>
                <div class="logo-info">
                    <div class="text"><a href="index.html" style="color: #fff;">Better Career</a></div>
                </div>
            </a>

            <!-- Subscribe -->
            <div class="col-12 col-md-12 box">
                <div class="Subscribe d-flex no-gutters">
                  <div class="col-12">
                    <input type="text" placeholder="Enter e-mail"> <!-- Text within the textbox -->
                  </div>
                  <div class="col-4">
                    <button>Subscribe</button>
                  </div>
                </div>
              </div>

            <div class="column-title"><a href="policy.html" style="color: #fff;">Privacy Policy | Terms & Conditions</a></div>
            <span class="copyright">© 2024. All rights reserved.</span>
        </div>

        <div class="column is-nav">
            <div class="column-title"><a href="contact.html" style="color: #fff;">Contact Us</a></div>
        </div>
        <div class="column is-nav">
            <div class="column-title"><a href="cart.html" style="color: #fff;">Cart</a></div>
        </div>
        <div class="column is-nav">
            <div class="column-title"><a href="about.html" style="color: #fff;">About Us</a></div>
        </div>
    </div>
</footer>


<!------------------------------------------- JavaScript Code --------------------------------------->
            
<script>
              //Firebase Database link
              //Import the functions necessary from the SDKs needed
              import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
              import { getDatabase, set, ref, update} from "https://www.gstatic.com/firebasejs/10.11.0/firebase-database.js";

              import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut} from "https://www.gstatic.com/firebasejs/10.11.0/firebase-auth.js";


              // The Better Career web app Firebase configuration
              const firebaseConfig = {
                  apiKey: "AIzaSyCp-FYM-77QwCtFEYA5yQCUpHMSTl6oJWc",
                  authDomain: "bettercareer-27033.firebaseapp.com",
                  databaseURL: "https://bettercareer-27033-default-rtdb.firebaseio.com",
                  projectId: "bettercareer-27033",
                  storageBucket: "bettercareer-27033.appspot.com",
                  messagingSenderId: "898798821793",
                  appId: "1:898798821793:web:2d6b543a871403d3376be0",
                  measurementId: "G-3YBVGWX48B"
              };

              // Firebase Initialisation
              const app = initializeApp(firebaseConfig);
              const database = getDatabase(app);
              const auth = getAuth();        
</script>

<script> 
              //Badges Update
              // Update the total of badges when the page loads and when the totalUpdated event is triggered
              function updateTotal() {
                document.getElementById('total').textContent = localStorage.getItem('total');
              }
          
              // Update the total when the page loads
              document.addEventListener('DOMContentLoaded', function() {
                updateTotal();
              });
          
              // Listen for the totalUpdated event to update the total
              window.addEventListener('totalUpdated', function() {
                updateTotal();
              });
</script>

<script> 
       // Update and sync the Progress Bar with the one on the Career Page
       //Function to get progress width based on stage
       function getProgressWidth(stage) {
                          switch (stage) {
                            case 'part-one':
                              return '25%';
                            case 'part-two':
                              return '50%';
                            case 'part-three':
                              return '75%';
                            case 'part-four':
                              return '100%';
                            default:
                              return '0';
                          }
                        }                 
                        
                        // Function to get progress text based on stage
                        function getProgressText(stage) {
                          switch (stage) {
                            case 'part-one':
                              return '25% Completed';
                            case 'part-two':
                              return '50% Completed';
                            case 'part-three':
                              return '75% Completed';
                            case 'part-four':
                              return '100% Completed';
                            default:
                              return '0% Completed';
                          }
                        }
                        
                        // Listen for changes in localStorage and update the progress bar accordingly
                        window.addEventListener('storage', function(event) {
                          if (event.key === 'progress') {
                            updateProgressBar(event.newValue);
                          }
                        });

                         // Functions to update the progress bar and stages when the page loads
                        document.addEventListener('DOMContentLoaded', function() {
                          var progressData = localStorage.getItem('progress');
                          if (progressData !== null) {
                            updateProgressBar(progressData);
                          }
                        });

                        function updateProgressBar(stage) {
                          var progressBar = document.getElementById('level');
                          progressBar.style.width = getProgressWidth(stage);
                          progressBar.textContent = getProgressText(stage);
                        }
</script> 
      
</body>
</html>
